int func_0x803b110(int p1, int p2)
{
  r8 = r0;
  r7 = r1;
  r5 = *r0;
  if (r1 != 0)
  {
    r1 = r1;
    r0 = r0;
    func_0x803c790();
    ;
    if (r0 > 2)
    {
      r0 = 1;
      return 1;
    }

    r1 = *((*r0) + 28);
    if ((r0 == (-1)) || ((*((*r0) + 28)) > r0))
    {
      return r0;
    }

    r6 = r1;
  }
  else
  {
    r6 = *((*r0) + 16);
    r0 = *((*r0) + 28);
    r6 = 1;
  }

  r0 = *((*r0) + 20);
  if ((*((*r0) + 20)) == 0)
  {
    r0 = 0;
  }

  r4 = 0;
  if (r6 == r1)
  {
    r4 = r6 + 1;
    r0 = *((*r0) + 28);
    if ((*((*r0) + 28)) <= (r6 + 1))
    {
      r4 = 2;
    }

  }

  r1 = r4;
  r0 = r0;
  func_0x803c790();
  ;
  if ((r0 == 1) || (r0 == (-1)))
  {
    return r0;
  }

  if (r0 != 0)
  {
    r0 = *((*r0) + 16);
    if ((*((*r0) + 16)) >= 2)
    {
      r1 = *((*r0) + 28);
      if ((*((*r0) + 16)) > (*((*r0) + 16)))
      {
        r6 = *((*r0) + 16);
      }

    }

    r4 = 0;
  }

  if (r4 != 0)
  {
  }
  else
  {
    r4 = r6;
    while (1)
    {
      r4 = r4 + 1;
      r0 = *(r5 + 28);
      if ((*(r5 + 28)) <= (r4 + 1))
      {
        r4 = 2;
        if (r6 < 2)
        {
          r0 = 0;
          return 0;
        }

      }

      r1 = r4;
      r0 = r8;
      func_0x803c790();
      ;
      if (r8 != 0)
      {
        if ((r8 == 1) || (r8 == (-1)))
        {
          return r0;
        }

        if (r4 == r6)
        {
          r0 = 0;
          return 0;
        }

      }
      else
      {
        break;
      }

    }

  }

  r2 = 4294967295;
  r1 = r4;
  r0 = *r0;
  func_0x803d1c2();
  ;
  if (((*r0) == 0) && (r1 != 0))
  {
    r2 = r4;
    r1 = r1;
    r0 = *r0;
    func_0x803d1c2();
    ;
  }

  if ((*r0) != 0)
  {
    if ((*r0) != 1)
    {
      r4 = 1;
    }
    else
    {
      r4 = 4294967295;
    }

    r0 = r4;
    return r4;
  }

  *((*r0) + 16) = r4;
  r1 = *((*r0) + 28);
  r0 = *((*r0) + 20);
  r1 = (*((*r0) + 28)) - 2;
  if ((*((*r0) + 20)) <= ((*((*r0) + 28)) - 2))
  {
    r0 = (*((*r0) + 20)) - 1;
    *((*r0) + 20) = (*((*r0) + 20)) - 1;
  }

  r0 = *((*r0) + 4);
  r0 = (*((*r0) + 4)) | 1;
  *((*r0) + 4) = (*((*r0) + 4)) | 1;
  r0 = r4;
  return r4;
}

